

function getCookie(t){var o=document.cookie.match("\\b"+t+"=([^;]*)\\b");return o?o[1]:void 0}var httpDialogTip=function(){var t='<div style="position: fixed;width:120px;height:25px;background-color: #8db02e;left:50%;top:-26px;z-index:100001';t+='margin-left: -60px;text-align: center;color:#fff;line-height: 25px;font-size: 13px" class="http_dialog">请求成功</div>',$(document.body).append(t);var o=$(document.body).find(".http_dialog");this.showDialog=function(t,n){1==t?o.html("请求成功"):(o.html("请求失败"),o.css("background-color","#f05151")),function(t){o.animate({top:"0"},300,function(){setTimeout(function(){o.animate({top:"-26px"},200,function(){"function"==typeof t&&t()})},900)})}(n)}},tipDlg=new httpDialogTip;$.extend({window:{http:{post:function(t,o,n,i,e){o._xsrf=getCookie("_xsrf"),$.ajax({type:"post",url:t,data:o,datatype:"json",async:!1,success:function(t){tipDlg.showDialog(!0,function(){"function"==typeof n&&n(t)})},complete:function(){"function"==typeof i&&i()},error:function(){tipDlg.showDialog(!1,function(){"function"==typeof e&&e()})}})}}}});