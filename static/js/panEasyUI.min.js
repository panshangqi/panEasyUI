
$.fn.extend({onMouseWheel:function(a){$(this).on("mousewheel DOMMouseScroll",function(b){var c=b.originalEvent.detail,d=b.originalEvent.wheelDelta,e="undefined"==typeof d?-c:d;a(b,e)})}}),$.fn.extend({panScrollBar:function(a){var b={width:400,height:350,barWidth:5},c=$.extend({},b,a),d=$(this).html();console.log(d);var e='<div class="scroll-content"></div>';e+='<div class="scroll-bar"><div class="scrollbar-thumb"></div></div>',$(this).html(e);var f=$(this).find(".scroll-content"),g=$(this).find(".scroll-bar"),h=g.find(".scrollbar-thumb");f.html(d),$(this).css({width:c.width+"px",height:c.height+"px",overflow:"hidden"}),f.css({}),g.css({height:c.height+"px",width:c.barWidth+"px",left:c.width-c.barWidth+"px"});var i=0,j=0;if(h.on("mousedown",function(a){i=a.pageX,console.log(i)}),h.on("mousemove",function(a){j=a.pageY,console.log(j-i)}),f.height()<=c.height)return void g.css("display","none");var k=0,l=80,m=$(this).height()-f.height(),n=1*c.height/f.height(),o=parseInt(n*c.height),p=0,q=c.height-o,r=parseInt(1*q*l/m);h.css({height:o+"px"}),$(this).onMouseWheel(function(a,b){b>0?k+l>0?(k=0,p=0):(k+=l,p+=r):m>k-l?(k=m,p=q):(k-=l,p-=r),f.stop(!1,!0).animate({"margin-top":k+"px"},120,"linear"),h.stop(!1,!0).animate({"margin-top":p+"px"},120,"linear")})}}),$("#test_scroll").panScrollBar({}),$.fn.extend({selectorInit:function(a,b){var c="";if(a.text&&"object"==typeof a.text&&(c+='<div class="pan-text" tId="'+a.text.tId+'">',c+=a.text.tName,c+="</div>"),c+='<div class="pan-btn"><span></span></div>',c+='<ul class="pan-scroll-box" id="ll">',a.options&&"object"==typeof a.options)for(var d in a.options)c+='<li tId="'+a.options[d].tId+'">',c+=a.options[d].tName+"</li>";c+="</ul>",$(this).html(c),$(this).find("#ll").panScrollBar({width:50,height:50});var e=$(this);a.width&&"number"==typeof a.width&&($(this).css("width",a.width+"px"),e.find(".pan-text").css({width:a.width-36+"px"}),e.find("ul").css({width:a.width+"px"})),a.height&&"number"==typeof a.height&&($(this).css("height",a.height+"px"),e.find(".pan-text").css({height:a.height+"px","line-height":a.height+"px"}),e.find(".pan-btn").css({height:a.height+"px"})),e.on("mouseenter",function(){$(this).find("ul").css("display","block")}),e.on("mouseleave",function(){$(this).find("ul").css("display","none")}),e.on("click","ul li",function(){if(e.find(".pan-text").html($(this).html()),e.find(".pan-text").attr("tId",$(this).attr("tId")),e.find("ul").css("display","none"),"function"==typeof b){var a=e.find(".pan-text").attr("tId"),c=e.find(".pan-text").html(),d={tId:a,tName:c};b(d)}})}}),$("#test_selector").selectorInit({width:280,text:{tId:"上海",tName:"上海"},options:[{tId:"上海",tName:"上海"},{tId:"北京",tName:"北京"},{tId:"深圳",tName:"深圳"},{tId:"江苏",tName:"江苏"},{tId:"山东",tName:"山东"},{tId:"广东",tName:"广东"},{tId:"江西",tName:"江西"},{tId:"南京",tName:"南京"},{tId:"江苏",tName:"江苏"},{tId:"陕西",tName:"陕西"},{tId:"河南",tName:"河南"},{tId:"河北",tName:"河北"},{tId:"山西",tName:"山西"},{tId:"天津",tName:"天津"}]},function(a){console.log(JSON.stringify(a))}),$("#test_selector1").selectorInit({width:120,text:{tId:"火星",tName:"火星"},options:[{tId:"火星",tName:"火星"},{tId:"木星",tName:"木星"},{tId:"水星",tName:"水星"},{tId:"金星",tName:"金星"},{tId:"天王星",tName:"天王星"},{tId:"海王星",tName:"海王星"},{tId:"冥王星",tName:"冥王星"},{tId:"地球",tName:"地球"},{tId:"太阳",tName:"太阳"}]},function(a){console.log(JSON.stringify(a))}),$.fn.extend({ZoomInit:function(a){function b(a){a+="";var b={filter:"alpha(opacity=50)","-moz-opacity":a,"-khtml-opacity":a,opacity:a};return b}var c=$(this),d='<div class="imageBg"></div>';$(this).append(d),$imageBg=c.find("div.imageBg");var e=$(this).find("img");a.imageWidth&&"number"==typeof a.imageWidth&&e.css("width",a.imageWidth+"px"),a.imageHeight&&"number"==typeof a.imageHeight&&e.css("height",a.imageHeight+"px");var f=2;a.scale&&"number"==typeof a.scale&&(f=a.scale);var g=$(document).width(),h=$(document).height(),i=e.width(),j=e.height(),k=c.offset().left,l=c.offset().top,m=i*f,n=j*f;(m>=g||n>=h)&&(m=.8*g,n=1*j/i*m);var o=(g-m)/2,p=(h-n)/2;c.css("width",i+"px"),c.css("height",j+"px"),$imageBg.css({width:"100%",height:"100%",position:"absolute",left:"0",top:"0","background-color":"#666",display:"none","z-index":1e3});var q=!1;e.on("click",function(){q?(k=c.offset().left,l=c.offset().top,$imageBg.animate(b(0),250,function(){$imageBg.css("display","none")}),e.animate({width:i+"px",height:j+"px",left:k+"px",top:l+"px"},250,function(){q=!1,e.css("position","static")})):(e.css("position","absolute"),e.css("z-index","1001"),console.log(e.offset().top),$imageBg.css("display","block"),$imageBg.css(b(0)),$imageBg.animate(b(.5),250),e.animate({width:m+"px",height:n+"px",left:o+"px",top:p+"px"},250,function(){q=!0}))}),e.on("mouseenter",function(){q?e.css("cursor","zoom-out"):e.css("cursor","zoom-in")})}}),$("#test_zoomify").ZoomInit({imageWidth:360,imageHeight:"auto",scale:3.1}),$("#test_zoomify1").ZoomInit({imageWidth:100,imageHeight:"auto",scale:3.1}),$.fn.extend({panDateTimePicker:function(a){function b(a,b){n.find(".year-text").html(a),n.find(".month-text").html(b),a%400==0||a%4==0&&a%100!=0?e[2]=29:e[2]=28;for(var d=c(a,b,1),f="",g=e[b],h=0;7>h;h++)d>h&&(f+='<span style="visibility:hidden">&nbsp;</span>');for(var h=1;g>=h;h++)f+="<span>"+h+"</span>";n.find(".picker-days").html(f)}function c(a,b,c){var d=new Date(a+"/"+b+"/"+c),e=d.getDay();return e}function d(a,b,c){"string"==typeof b&&(b=parseInt(b)),"string"==typeof c&&(c=parseInt(c)),b=10>b?"0"+b:b,c=10>c?"0"+c:c;var d="";return"yyyy-mm-dd"==h.format?d=a+"-"+b+"-"+c:"mm/dd/yyyy"==h.format?d=b+"/"+c+"/"+a:"yyyy/mm/dd"==h.format&&(d=a+"/"+b+"/"+c),d}var e=[null,31,29,31,30,31,30,31,31,30,31,30,31],f=["日","一","二","三","四","五","六"],g={start_year:1990,end_year:2030,format:"mm/dd/yyyy"},h=$.extend({},g,a);console.log(JSON.stringify(h));var i=new Date,j=i.getFullYear(),k=i.getMonth()+1;i.getDate();$(this).html('<label class="date-show"></label>'),$(this).append('<div class="picker-box"></div>');var l='<div class="picker-header">';l+='<div class="left-btn"></div>',l+='<div class="year-selector">',l+='<a class="year-text">2017</a>',l+='<span class="year-btn"></span>',l+='<ul class="year-list"></ul>',l+="</div>",l+='<div class="month-selector">',l+='<a class="month-text">09</a>',l+='<span class="month-btn"></span>',l+='<ul class="month-list"></ul>',l+="</div>",l+='<div class="right-btn"></div>',l+="</div>",l+='<div class="picker-week">';for(var m=0;7>m;m++)l+="<span>"+f[m]+"</span>";l+="</div>",l+='<div class="picker-days"></div>',$(this).find(".picker-box").html(l),l="";for(var m=h.start_year;m<=h.end_year;m++)l+="<li>"+m+"</li>";$(this).find("ul.year-list").html(l),l="";for(var m=1;12>=m;m++)l+="<li>"+m+"</li>";$(this).find("ul.month-list").html(l);var n=$(this);b(j,k),$(this).find(".year-selector").on("mouseenter",function(){n.find(".year-list").css("display","block")}),$(this).find(".year-selector").on("mouseleave",function(){n.find(".year-list").css("display","none")}),$(this).find(".year-list").on("click","li",function(){var a=$(this).html(),c=n.find(".month-text").html();n.find(".year-text").html(a),n.find(".year-list").css("display","none"),b(parseInt(a),parseInt(c))}),$(this).find(".month-selector").on("mouseenter",function(){n.find(".month-list").css("display","block")}),$(this).find(".month-selector").on("mouseleave",function(){n.find(".month-list").css("display","none")}),$(this).find(".month-list").on("click","li",function(){var a=n.find(".year-text").html(),c=$(this).html();n.find(".month-text").html(c),n.find(".month-list").css("display","none"),b(parseInt(a),parseInt(c))}),$(this).find(".picker-days").on("click","span",function(){var a=n.find(".year-text").html(),b=n.find(".month-text").html(),c=$(this).html();n.find(".date-show").html(d(a,b,c)),n.find(".picker-box").css("display","none")}),$(this).find(".date-show").on("click",function(){n.find(".picker-box").css("display","block")})}}),$("#test_datetime").panDateTimePicker({start_year:1990,end_year:2025,format:"mm/dd/yyyy"});