

$.fn.extend({onMouseWheel:function(t){$(this).on("mousewheel DOMMouseScroll",function(o){"function"==typeof o.preventDefault&&o.preventDefault();var n=o.originalEvent.detail,e=o.originalEvent.wheelDelta;return t(o,void 0===e?-n:e),!1})}}),$.fn.extend({panScrollBar:function(t){var o=$.extend({},{width:400,height:350,scroll_x_width:7,scroll_x_color:"#ddd",scroll_x_radius:7,scroll_x_thumb_color:"#aaa",scroll_x_thumb_radius:7,scroll_x_overflow:"auto",scroll_y_width:7,scroll_y_radius:7,scroll_y_color:"#ddd",scroll_y_thumb_color:"#aaa",scroll_y_thumb_radius:7,scroll_y_overflow:"auto",inertia_dis:100},t),n=$(this).html(),e='<div class="scroll-content"></div><div class="scroll-x-bar"><div class="scrollbar-x-thumb"></div></div>';e+='<div class="scroll-y-bar"><div class="scrollbar-y-thumb"></div></div><div class="scroll-over-layer"></div>',$(this).html(e);var i=$(this),s=$(this).find(".scroll-content");s.html(n);var l=$(this).find(".scroll-x-bar"),a=$(this).find(".scroll-y-bar"),c=l.find(".scrollbar-x-thumb"),d=a.find(".scrollbar-y-thumb"),r=$(this).find(".scroll-over-layer"),f=s.width(),p=s.height();$(this).css({width:o.width+"px",height:o.height+"px",overflow:"hidden"}),r.css({width:o.width+"px",height:o.height-o.scroll_y_width+"px"}),a.css({height:o.height+"px",width:o.scroll_y_width+"px",left:o.width-o.scroll_y_width+"px","background-color":o.scroll_y_color,"border-radius":o.scroll_y_radius+"px"}),l.css({height:o.scroll_x_width+"px",width:o.width+"px",top:o.height-o.scroll_x_width+"px","background-color":o.scroll_x_color,"border-radius":o.scroll_x_radius+"px"});var u={scrollY:!1,scrollX:!1};"auto"==o.scroll_y_overflow?(!function(){var t=0;if(p<=o.height)return void a.css("display","none");var n=p-o.height,e=1*o.height/p,l=parseInt(o.height*e),c=0,r=o.height-l;d.css({height:l+"px","background-color":o.scroll_y_thumb_color,"border-radius":o.scroll_y_thumb_radius+"px"});var f=null,u=2,h=0,m=r*u*1/n;function v(){t+=u,c+=m,u>0&&t>=h?(t=h,clearInterval(f)):u<0&&t<=h&&(t=h,clearInterval(f)),s.css({"margin-top":t+"px"}),d.css({"margin-top":c+"px"})}i.onMouseWheel(function(e,i){if(f&&clearInterval(f),i>0){if(u=Math.abs(u),h=t+o.inertia_dis,t>=0)return;h>0&&(h=0),m=-Math.abs(m),f=setInterval(v,1)}else{if(u=-Math.abs(u),h=t-o.inertia_dis,t<=-n)return;h<-n&&(h=-n),m=Math.abs(m),f=setInterval(v,1)}})}(),u.scrollY=!0):a.css("display","none"),"auto"==o.scroll_x_overflow?(!function(){console.log(f+"==="+o.width);var t=0;if(f<=o.width)return void l.css("display","none");var n=f-o.width,e=1*o.width/f,i=parseInt(o.width*e),a=0,d=o.width-i,r=d/n;c.css({width:i+"px","background-color":o.scroll_x_thumb_color,"border-radius":o.scroll_x_thumb_radius+"px"});var p=0,u=0,h=0,m=0,v=!1;c.on("mousedown",function(o){u=o.pageX,m=a,p=t,v=!0,s.addClass("not-selected")}),$(window).on("mousemove",function(o){v&&(h=o.pageX,t=p+(u-h)/r,(a=m+h-u)>=d?(a=d,t=-n):a<=0&&(a=0,t=0),c.css({"margin-left":a+"px"}),s.css({"margin-left":t+"px"}))}),$(window).on("mouseup",function(){v=!1,s.removeClass("not-selected")})}(),u.scrollX=!0):l.css("display","none")}}),$.fn.extend({selectorInit:function(t,o){var n=$.extend({},{width:280,expandType:"touch",optionsHeight:200,text:{tId:"demo",tName:"demo"},options:[{tId:"demo",tName:"demo"},{tId:"demo",tName:"demo"},{tId:"demo",tName:"demo"},{tId:"demo",tName:"demo"}]},t),e="";e+='<div class="pan-text" tId="'+n.text.tId+'">'+n.text.tName+"</div>",e+='<div class="pan-btn"><span></span></div>',e+='<div class="pan-scroll-box">';for(var i in n.options)e+='<div class="item-li" tId="'+n.options[i].tId+'">'+n.options[i].tName+"</div>";e+="</div>",$(this).html(e);var s=$(this);$(this).css("width",n.width+"px"),s.find(".pan-text").css({width:n.width-36+"px"});var l=$(this).find(".pan-scroll-box");l.panScrollBar({width:n.width,height:n.optionsHeight}),l.css({position:"absolute",left:"-1px",top:"29px","background-color":"#fff","z-index":"10001",border:"1px solid #80bc71",display:"none"}),"click"==n.expandType?s.on("click",function(){l.css("display","block")}):"touch"==n.expandType&&s.on("mouseenter",function(){l.css("display","block")}),s.on("mouseleave",function(){l.css("display","none")}),s.on("click",".item-li",function(){if(s.find(".pan-text").html($(this).html()),s.find(".pan-text").attr("tId",$(this).attr("tId")),l.css("display","none"),"function"==typeof o){var t=s.find(".pan-text").attr("tId"),n=s.find(".pan-text").html();o({tId:t,tName:n})}})}}),$.fn.extend({ZoomInit:function(t){var o=$(this);$(this).append('<div class="imageBg"></div>'),$imageBg=o.find("div.imageBg");var n=$(this).find("img");t.imageWidth&&"number"==typeof t.imageWidth&&n.css("width",t.imageWidth+"px"),t.imageHeight&&"number"==typeof t.imageHeight&&n.css("height",t.imageHeight+"px");var e=2;t.scale&&"number"==typeof t.scale&&(e=t.scale);var i=$(document).width(),s=$(document).height(),l=n.width(),a=n.height(),c=o.offset().left,d=o.offset().top,r=l*e,f=a*e;(r>=i||f>=s)&&(f=1*a/l*(r=.8*i));var p=(i-r)/2,u=(s-f)/2;o.css("width",l+"px"),o.css("height",a+"px"),$imageBg.css({width:"100%",height:"100%",position:"absolute",left:"0",top:"0","background-color":"#666",display:"none","z-index":1e3});var h=!1;function m(t){return{filter:"alpha(opacity=50)","-moz-opacity":t+="","-khtml-opacity":t,opacity:t}}n.on("click",function(){h?(c=o.offset().left,d=o.offset().top,$imageBg.animate(m(0),250,function(){$imageBg.css("display","none")}),n.animate({width:l+"px",height:a+"px",left:c+"px",top:d+"px"},250,function(){h=!1,n.css("position","static")})):(n.css("position","absolute"),n.css("z-index","1001"),console.log(n.offset().top),$imageBg.css("display","block"),$imageBg.css(m(0)),$imageBg.animate(m(.5),250),n.animate({width:r+"px",height:f+"px",left:p+"px",top:u+"px"},250,function(){h=!0}))}),n.on("mouseenter",function(){h?n.css("cursor","zoom-out"):n.css("cursor","zoom-in")})}}),$.fn.extend({panDateTimePicker:function(t){var o=[null,31,29,31,30,31,30,31,31,30,31,30,31],n=["日","一","二","三","四","五","六"],e=$.extend({},{start_year:1990,end_year:2030,format:"mm/dd/yyyy"},t),i=new Date,s=i.getFullYear(),l=i.getMonth()+1;i.getDate();$(this).html('<label class="date-show"></label>'),$(this).append('<div class="picker-box"></div>');var a='<div class="picker-header">';a+='<div class="left-btn"></div>',a+='<div class="year-selector"><a class="year-text">2017</a><span class="year-btn"></span>',a+='<div class="pan-scroll-box" id="year-list"></div></div>',a+='<div class="month-selector"><a class="month-text">09</a><span class="month-btn"></span>',a+='<div class="pan-scroll-box" id="month-list"></div></div>',a+='<div class="right-btn"></div>',a+="</div>",a+='<div class="picker-week">';for(var c=0;c<7;c++)a+="<span>"+n[c]+"</span>";a+="</div>",a+='<div class="picker-days"></div>',$(this).find(".picker-box").html(a),a="";var d=0;for(c=e.start_year;c<=e.end_year;c++)a+='<div class="item-li" style="width:60px;">'+c+"</div>",d++;$(this).find("#year-list").html(a),a="";for(c=1;c<=12;c++)a+='<div class="item-li" style="width:45px;">'+c+"</div>";$(this).find("#month-list").html(a);var r=$(this),f=$(this).find("#year-list"),p=240<20*d?240:20*d;f.panScrollBar({width:60,height:p}),f.css({position:"absolute",border:"1px solid #80bc71","background-color":"#fff",top:"20px",left:"-5px","z-index":"20001",display:"none"});var u=$(this).find("#month-list");function h(t,n){r.find(".year-text").html(t),r.find(".month-text").html(n),o[2]=t%400==0||t%4==0&&t%100!=0?29:28;for(var e=new Date(t+"/"+n+"/"+1).getDay(),i="",s=o[n],l=0;l<7;l++)l<e&&(i+='<span style="visibility:hidden">&nbsp;</span>');for(l=1;l<=s;l++)i+="<span>"+l+"</span>";r.find(".picker-days").html(i)}u.panScrollBar({width:45,height:240}),u.css({position:"absolute",border:"1px solid #80bc71","background-color":"#fff",top:"20px",left:"-5px","z-index":"20001",display:"none"}),h(s,l),$(this).find(".year-selector").on("mouseenter",function(){f.css("display","block")}),$(this).find(".year-selector").on("mouseleave",function(){f.css("display","none")}),f.on("click",".item-li",function(){var t=$(this).html(),o=r.find(".month-text").html();r.find(".year-text").html(t),f.css("display","none"),h(parseInt(t),parseInt(o))}),$(this).find(".month-selector").on("mouseenter",function(){u.css("display","block")}),$(this).find(".month-selector").on("mouseleave",function(){u.css("display","none")}),r.find(".picker-box").css({display:"none"}),u.on("click",".item-li",function(){var t=r.find(".year-text").html(),o=$(this).html();r.find(".month-text").html(o),u.css("display","none"),h(parseInt(t),parseInt(o))}),$(this).find(".picker-days").on("click","span",function(){var t=r.find(".year-text").html(),o=r.find(".month-text").html(),n=$(this).html();r.find(".date-show").html(function(t,o,n){"string"==typeof o&&(o=parseInt(o));"string"==typeof n&&(n=parseInt(n));o=o<10?"0"+o:o,n=n<10?"0"+n:n;var i="";"yyyy-mm-dd"==e.format?i=t+"-"+o+"-"+n:"mm/dd/yyyy"==e.format?i=o+"/"+n+"/"+t:"yyyy/mm/dd"==e.format&&(i=t+"/"+o+"/"+n);return i}(t,o,n)),r.find(".picker-box").css("display","none")}),$(this).find(".date-show").on("click",function(){r.find(".picker-box").css("display","block")})}});var panColorPickerObj=function(t,o,n){var e=t,s=$.extend({},{width:50,height:26,borderColor:"#333",iconBorderColor:"#333",iconColor:"#ff0000",pickerLeft:-1,pickerTop:25,showBtn:!0},o),l=180,a="";a+='<div class="picker_button"><div class="cur_color"></div><div class="arrow_btn"></div></div>',a+='<div class="picker_box">',a+='<div class="panel_box"><canvas class="color_canvas" width="'+l+'" height="'+l+'"></canvas>',a+='<div class="canvas_point"></div>',a+='<div class="rainbow_panel"><span></span></div></div>',a+='<div class="op_box"><div class="pre_color"></div><div class="now_color"></div>',a+='<div class="rgb_value">255,0,0</div><div class="hex_value">#ff0000</div>',a+='<div class="cancel_btn">取消</div><div class="ok_btn">确定</div></div>',a+="</div>",e.append(a);var c=e.find(".picker_button"),d=e.find(".picker_box"),r=e.find(".arrow_btn"),f=e.find(".color_canvas"),p=e.find(".canvas_point"),u=e.find(".rainbow_panel"),h=e.find(".rainbow_panel").find("span"),m=e.find(".rgb_value"),v=e.find(".hex_value"),g=e.find(".cur_color"),b=e.find(".pre_color"),x=e.find(".now_color"),_=e.find(".ok_btn"),y=e.find(".cancel_btn"),k="block";0==s.showBtn&&(k="none"),c.css({"border-color":s.borderColor,width:s.width+"px",height:s.height+"px",display:k}),d.css({left:s.pickerLeft+"px",top:s.pickerTop+"px",display:"none"}),g.css({"background-color":s.iconColor,height:s.height-6+"px","border-color":s.iconBorderColor}),b.css("background-color",s.iconColor);for(var w=["#ff0000","#FF8000","#ffff00","#00ff00","#00ffff","#0000ff","#8000ff"],I=[],C=0,B=1;B<7;B++)gradient_list=Y(w[B-1],w[B],30),$.merge(I,gradient_list,!1);C=I.length;var N=l,D=0,P=0,S=0,F={r:0,g:0,b:0},T={r:255,g:0,b:0},M=f[0].getContext("2d"),z=M.createImageData(l,l);function O(t){if(!isNaN(t)){var o=parseInt(1*t/N*C);R({r:255,g:255,b:255},T=I[o=(o=o<0?0:o)>C-1?C-1:o],{r:0,g:0,b:0},l)}}function j(t,o){if(!isNaN(o)&&!isNaN(t)){var n,e,i,s,a,c,d,r,f,p,u,h,g=(n={r:255,g:255,b:255},e=T,i={r:0,g:0,b:0},s=l,a=P,c=D,d=parseInt(1*(e.r-n.r)/s*a+n.r),r=parseInt(1*(e.g-n.g)/s*a+n.g),f=parseInt(1*(e.b-n.b)/s*a+n.b),p=parseInt(1*(i.r-d)/s*c+d),u=parseInt(1*(i.g-r)/s*c+r),h=parseInt(1*(i.b-f)/s*c+f),p=p>255?255:p,u=u>255?255:u,h=h>255?255:h,{r:p=p<0?0:p,g:u=u<0?0:u,b:h=h<0?0:h});F=g,m.html(g.r+","+g.g+","+g.b),x.css("background-color",W(g.r,g.g,g.b)),v.html(W(g.r,g.g,g.b))}}function R(t,o,n,e){for(var i=[],s=1*(o.r-t.r)/e,l=1*(o.g-t.g)/e,a=1*(o.b-t.b)/e,c=0;c<e;c++)i.push({r:parseInt(t.r+s*c),g:parseInt(t.g+l*c),b:parseInt(t.b+a*c)});for(c=0;c<e;c++)for(var d=0;d<e;d++){var r=4*c*e+4*d;z.data[r]=parseInt(1*(n.r-i[d].r)/e*c+i[d].r),z.data[r+1]=parseInt(1*(n.g-i[d].g)/e*c+i[d].g),z.data[r+2]=parseInt(1*(n.b-i[d].b)/e*c+i[d].b),z.data[r+3]=255}M.putImageData(z,0,0)}function E(t){var o=[];return o.push(parseInt(t.substr(1,2),16)),o.push(parseInt(t.substr(3,2),16)),o.push(parseInt(t.substr(5,2),16)),o}function W(t,o,n){var e=t.toString(16),i=o.toString(16),s=n.toString(16);return"#"+(e=1==e.length?"0"+e:e)+(i=1==i.length?"0"+i:i)+(s=1==s.length?"0"+s:s)}function Y(t,o,n,e){var s=E(t),l=E(o),a=1*(l[0]-s[0])/n,c=1*(l[1]-s[1])/n,d=1*(l[2]-s[2])/n,r=[];for(i=0;i<n;i++){var f=parseInt(s[0]+a*i),p=parseInt(s[1]+c*i),u=parseInt(s[2]+d*i);f=f>255?255:f,p=p>255?255:p,u=u>255?255:u,1==e?r.push(W(f,p,u)):r.push({r:f,g:p,b:u})}return r}R({r:255,g:255,b:255},T,{r:0,g:0,b:0},180),function(){function t(t){P=t.pageX-f.offset().left,D=t.pageY-f.offset().top,P=P<0?0:P,D=D<0?0:D;var o=P>l-3?l-3:P-2,n=D>l-3?l-3:D-2;P=P>l?l:P,D=D>l?l:D,p.css({top:n+"px",left:o+"px"}),j(P,D)}function o(t){document.onmousemove=null,document.onmouseup=null,document.onselectstart=null}p.on("mousedown",function(t){f.mousedown()}),f.on("mousedown",function(n){P=n.pageX-f.offset().left,D=n.pageY-f.offset().top,p.css({top:D+"px",left:P+"px"}),document.onmousemove=t,document.onmouseup=o,document.onselectstart=function(){return!1},j(P,D)})}(),function(){function t(t){S=(S=(S=t.pageY-f.offset().top)<0?0:S)>N-4?N-4:S,h.css("top",S+"px"),O(S),j(P,D)}function o(t){document.onmousemove=null,document.onmouseup=null,document.onselectstart=null}h.on("mousedown",function(t){u.mousedown()}),u.on("mousedown",function(n){S=(S=(S=n.pageY-f.offset().top)<0?0:S)>N-4?N-4:S,document.onmousemove=t,document.onmouseup=o,document.onselectstart=function(){return!1},h.css("top",S+"px"),O(S),j(P,D)})}(),_.on("click",function(){"function"==typeof n&&(o={hex:v.html(),rgb:F},n(o),d.css({display:"none"}),g.css("background-color",v.html()),b.css("background-color",v.html()))}),y.on("click",function(){d.css({display:"none"})}),g.click(function(){d.css({display:"block"})}),r.click(function(){g.click()}),this.showPicker=function(){d.css({display:"block"})},this.hidePicker=function(){d.css({display:"none"})}};$.fn.extend({panColorPicker:function(t,o){return new panColorPickerObj(this,t,o)}});var panEditFrameObj=function(t,o,n){var e=$.extend({},{width:810,height:500},o),i=t,s=["宋体","黑体","新宋体","仿宋","楷体","幼圆","Consolas","Courier New","Arial","Georgia","Impact","New Roman"],l={"初号":"9","一号":"8","二号":"7","三号":"6","小三":"5","四号":"4","小四":"3","五号":"2","小五":"1"},a='<div class="tool">';a+='<div class="first_row"><select class="family"></select>',a+='<select class="fontsize"></select>',a+='<button class="bold" title="粗体">B</button>',a+='<button class="italic" title="斜体">I</button>',a+='<button class="text_left" title="左对齐" tabindex = "0"></button>',a+='<button class="text_center" title="居中对齐"></button>',a+='<button class="text_right" title="右对齐"></button>',a+='<button class="reply_left" title="撤销"></button>',a+='<button class="reply_right" title="恢复撤销"></button>',a+='<button class="indent" title="增加缩进"></button>',a+='<button class="outdent" title="减少缩进"></button>',a+='<button class="underline" title="下划线"></button>',a+='<button class="deleteline" title="删除线"></button>',a+='<button class="remove_format" title="清除格式"></button>',a+='<button class="code_format" title="代码格式化"></button>',a+='<button class="table" title="表格"></button>',a+="</div>",a+='<div class="second_row">',a+='<button class="foreColor" title="字体颜色"></button><div class="pan-color-picker" id="forePicker" style="position: absolute"></div>',a+='<button class="backColor" title="字体背景颜色"></button><div class="pan-color-picker" id="backPicker" style="position: absolute"></div>',a+='<button class="link" title="超链接"></button>',a+='<button class="preview" title="预览"></button>',a+="</div>",a+="</div>",e.width=e.width<800?800:e.width,e.height=e.height<400?400:e.height,i.css({width:"100%",height:e.height+"px"});var c=i.find("iframe");c.before(a),c.css({height:e.height-100+"px"}),a='<div class="table_dialog">',a+='<div class="dialog_header"><span class="dialog_title">插入表格</span><span class="dialog_close">×</span></div>',a+='<div class="table_content"><input type="text" class="table_rows" value="3"><span>行</span><input type="text" class="table_cols" value="3"><span>列</span></div>',a+='<div class="dialog_ok_btn">确定</div>',i.append(a),a='<div class="code_dialog">',a+='<div class="dialog_header"><span class="dialog_title">插入代码</span><span class="dialog_close">×</span></div><textarea class="dialog_content" spellcheck="false"></textarea>',a+='<div class="dialog_ok_btn">确定</div>',i.append(a),a='<div class="link_dialog">',a+='<div class="dialog_header"><span class="dialog_title">插入超链接</span><span class="dialog_close">×</span></div>',a+='<div class="link_content"><span>链接名字:</span><input type="text" class="link_name"/><br/><span>链接Url:</span><input type="text" class="link_id"/></div>',a+='<div class="dialog_ok_btn">确定</div>',i.append(a),a='<div class="previewGg"><div class="previewContent"></div></div>',i.append(a);var d=i.find(".family"),r=i.find(".fontsize"),f=i.find(".bold"),p=i.find(".italic"),u=i.find(".text_left"),h=i.find(".text_center"),m=i.find(".text_right"),v=i.find(".reply_left"),g=i.find(".reply_right"),b=i.find(".indent"),x=i.find(".outdent"),_=i.find(".underline"),y=i.find(".deleteline"),k=i.find(".remove_format"),w=i.find(".code_format"),I=i.find(".table"),C=i.find(".foreColor"),B=i.find(".backColor"),N=i.find("#forePicker"),D=i.find("#backPicker"),P=i.find(".link"),S=i.find(".preview"),F=i.find(".code_dialog"),T=F.find(".dialog_content"),M=F.find(".dialog_close"),z=F.find(".dialog_ok_btn"),O=i.find(".link_dialog"),j=O.find(".link_name"),R=O.find(".link_id"),E=O.find(".dialog_close"),W=O.find(".dialog_ok_btn"),Y=i.find(".previewGg"),H=i.find(".previewContent"),X=i.find(".table_dialog"),A=X.find(".table_rows"),G=X.find(".table_cols"),L=X.find(".dialog_close"),U=X.find(".dialog_ok_btn");console.log(N.html());var Z=N.panColorPicker({showBtn:!1},function(t){Q.document.execCommand("ForeColor",!1,t.hex),Q.focus()}),q=D.panColorPicker({showBtn:!1},function(t){Q.document.execCommand("BackColor",!1,t.hex),Q.focus()});N.css({left:"1px",top:"1px"}),D.css({left:"39px",top:"1px"}),a="";for(var J in s)a+='<option value ="'+s[J]+'">'+s[J]+"</option>";d.html(a),a="";for(var K in l)a+='<option value ="'+l[K]+'">'+K+"</option>";r.html(a);var Q=c[0].contentWindow,V=c[0].contentWindow.document;function tt(t){return t}console.log(Q),V.body.contentEditable=!0,$(V.body).attr("spellcheck","false"),V.designMode="on",Q.focus(),this.getFrameBodyHtml=function(){return $(V.body).html()},d.change(function(){Q.document.execCommand("FontName",!1,$(this).val()),Q.focus()}),r.change(function(){Q.document.execCommand("FontSize",!1,parseInt($(this).val())),Q.focus()}),f.on("click",function(){Q.document.execCommand("Bold",!1,null),Q.focus()}),p.on("click",function(){Q.document.execCommand("Italic",!1,null),Q.focus()}),u.unbind("focus"),u.on("click",function(){Q.document.execCommand("justifyLeft",!1,null),Q.focus()}),h.on("click",function(){Q.document.execCommand("justifyCenter",!1,null),Q.focus()}),m.on("click",function(){Q.document.execCommand("justifyRight",!1,null),Q.focus()}),v.on("click",function(){Q.document.execCommand("undo",!1,null),Q.focus()}),g.on("click",function(){Q.document.execCommand("redo",!1,null),Q.focus()}),b.on("click",function(){Q.document.execCommand("indent",!1,null),Q.focus()}),x.on("click",function(){Q.document.execCommand("outdent",!1,null),Q.focus()}),_.on("click",function(){Q.document.execCommand("underline",!1,null),Q.focus()}),y.on("click",function(){Q.document.execCommand("strikeThrough",!1,"1"),Q.focus()}),k.on("click",function(){Q.document.execCommand("removeFormat",!1,"1"),Q.focus()}),w.on("click",function(){T.val(""),F.css("display","block")}),C.on("click",function(){Z.showPicker()}),B.on("click",function(){q.showPicker()}),M.on("click",function(){F.css("display","none")}),z.on("click",function(){F.css("display","none"),Q.focus();var t=Q.getSelection().getRangeAt(0),o=t.createContextualFragment(function(t){for(var o='<ol style="font-size: 13px;white-space: pre-wrap;font-family: Consolas;border: 1px solid #ddd" spellcheck="false">',n=t.split("\n"),e=0;e<n.length;e++)o+=e%2==1?'<li style="height:20px;line-height:20px;background-color: #f8f8f8;border-left:2px solid #8DB02E;padding-left: 10px;">'+tt(n[e])+"</li>":'<li style="height:20px;line-height:20px;background-color: #ffffff;border-left:2px solid #8DB02E;padding-left: 10px;">'+tt(n[e])+"</li>";return o+="</ol>"}(T.val()));t.insertNode(o),$(V.body).append("<br/>")}),I.on("click",function(){console.log("table.clok"),X.css("display","block")}),L.on("click",function(){X.css("display","none")}),U.on("click",function(){X.css("display","none");var t=parseInt(A.val()),o=parseInt(G.val());Q.focus();var n=Q.getSelection().getRangeAt(0),e=n.createContextualFragment("<br/>"+function(t,o,n){var e="";"left"==n?e+='<ol><table style="width:800px;border:1px solid #aaa;" cellspacing="0">':"center"==n&&(e+='<table style="width:800px;border:1px solid #aaa;" cellspacing="0">');for(var i=0;i<t;i++){e+=i%2==0?'<tr style="background-color: #f8f8f8">':'<tr style="background-color: #ffffff">';for(var s=0;s<o;s++)e+=0==s?'<td style="width:100px;height:30px;border-left:0px solid #d5d5d5;color:#666"></td>':'<td style="width:100px;height:30px;border-left:1px solid #d5d5d5;color:#666"></td>';e+="</tr>"}return e+="</table></ol>"}(t,o,"center"));n.insertNode(e),$(V.body).append("<br/>")}),P.on("click",function(){O.css("display","block"),j.val(""),R.val("")}),E.on("click",function(){O.css("display","none")}),W.on("click",function(){Q.focus();var t,o,n,e=Q.getSelection().getRangeAt(0),i=e.createContextualFragment((t=j.val(),o=R.val(),n="","string"==typeof o&&-1==o.indexOf("https://")&&-1==o.indexOf("http://")&&(n+="http://"+o),'<a href="'+n+'" target="_blank" >'+t+"</a>"));e.insertNode(i),O.css("display","none")}),S.on("click",function(){Y.css("display","block"),H.html($(V.body).html()),$("html,body").css({overflow:"hidden"})}),Y.on("click",function(){$(this).css("display","none"),$("html,body").css({overflow:"auto"})}),H.on("click",function(t){t.stopPropagation()})};$.fn.extend({panEditFrame:function(t,o){return new panEditFrameObj(this,t,o)}});var panBlogsDialogObj=function(t,o,n){var e=t,i=$.extend({},{width:500,height:300,top:150},o),s=e.find(".pan-blogs-dialog-content");function l(){e.fadeOut(300)}s.on("click",function(t){t.stopPropagation()}),e.click(function(){l()}),this.showDialog=function(){e.fadeIn(200),s.css({width:i.width+100+"px",height:i.height+100+"px",margin:i.top-50+"px auto"}),s.animate({width:i.width+"px",height:i.height+"px",margin:i.top+"px auto"},200)},this.hideDialog=function(){l()}};$.fn.extend({panBlogsDialog:function(t,o){return new panBlogsDialogObj(this,t,o)}});var panRandomCodeObj=function(t,o,n){var e=t,i=($.extend({},{},o),e[0]),s=i.width,l=i.height,a=i.getContext("2d");function c(t,o){return Math.floor(Math.random()*(o-t))+t}this.setDrawCode=function(t){!function(t){for(var o=["55px","30px","35px","40px","45px","50px","25px"],n=["Arial","Times New Roman","Georgia","Serif","Microsoft YaHei"],e=0;e<8;e++)a.beginPath(),a.strokeStyle="rgb("+c(0,255)+","+c(0,255)+","+c(0,255)+")",a.moveTo(c(0,s),c(0,l)),a.lineTo(c(0,s),c(0,l)),a.closePath(),a.stroke();for(var e=0;e<50;e++){a.beginPath(),a.lineWidth=2,a.strokeStyle="rgb("+c(0,255)+","+c(0,255)+","+c(0,255)+")";var i=c(0,s),d=c(0,l);a.moveTo(i,d),a.lineTo(i+2,d+2),a.closePath(),a.stroke()}for(var e=0;e<4;e++){var r=t.substr(e,1),f=c(0,20);a.fillStyle="rgb("+c(0,255)+","+c(0,255)+","+c(0,255)+")",a.strokeStyle="rgb("+c(0,255)+","+c(0,255)+","+c(0,255)+")",a.font="bold "+o[c(0,6)]+" "+n[c(0,5)],f%2==0?a.strokeText(r,36*e+13,50):a.fillText(r,36*e+13,50)}}(t)},this.clearDrawCode=function(){a.clearRect(0,0,s,l)}};$.fn.extend({panRandomCode:function(t,o){return new panRandomCodeObj(this,t,o)}});