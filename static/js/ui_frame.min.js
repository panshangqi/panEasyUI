

function getCookie(t){var o=document.cookie.match("\\b"+t+"=([^;]*)\\b");return o?o[1]:void 0}var httpDialogTip=function(){$(document.body).append('<div style="position: fixed;width:120px;height:25px;background-color: #8db02e;left:50%;top:-26px;z-index:100001;margin-left: -60px;text-align: center;color:#fff;line-height: 25px;font-size: 13px" class="http_dialog">请求成功</div>');var t=$(document.body).find(".http_dialog");this.showDialog=function(o,n){1==o?t.html("请求成功"):(t.html("请求失败"),t.css("background-color","#f05151")),function(o){t.animate({top:"0"},300,function(){setTimeout(function(){t.animate({top:"-26px"},200,function(){"function"==typeof o&&o()})},900)})}(n)}},tipDlg=new httpDialogTip;$.extend({window:{http:{post:function(t,o,n,i,e){o._xsrf=getCookie("_xsrf"),$.ajax({type:"post",url:t,data:o,datatype:"json",async:!1,success:function(t){tipDlg.showDialog(!0,function(){"function"==typeof n&&n(t)})},complete:function(){"function"==typeof i&&i()},error:function(){tipDlg.showDialog(!1,function(){"function"==typeof e&&e()})}})}}}});