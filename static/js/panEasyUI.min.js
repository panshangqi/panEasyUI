

$.fn.extend({onMouseWheel:function(t){$(this).on("mousewheel DOMMouseScroll",function(n){"function"==typeof n.preventDefault&&n.preventDefault();var o=n.originalEvent.detail,i=n.originalEvent.wheelDelta;return t(n,void 0===i?-o:i),!1})}}),$.fn.extend({panScrollBar:function(t){var n=$.extend({},{width:400,height:350,scroll_x_width:7,scroll_x_color:"#ddd",scroll_x_radius:7,scroll_x_thumb_color:"#aaa",scroll_x_thumb_radius:7,scroll_x_overflow:"auto",scroll_y_width:7,scroll_y_radius:7,scroll_y_color:"#ddd",scroll_y_thumb_color:"#aaa",scroll_y_thumb_radius:7,scroll_y_overflow:"auto",inertia_dis:100},t),o=$(this).html(),i='<div class="scroll-content"></div><div class="scroll-x-bar"><div class="scrollbar-x-thumb"></div></div>';i+='<div class="scroll-y-bar"><div class="scrollbar-y-thumb"></div></div><div class="scroll-over-layer"></div>',$(this).html(i);var e=$(this),s=$(this).find(".scroll-content");s.html(o);var l=$(this).find(".scroll-x-bar"),a=$(this).find(".scroll-y-bar"),c=l.find(".scrollbar-x-thumb"),d=a.find(".scrollbar-y-thumb"),r=$(this).find(".scroll-over-layer"),f=s.width(),p=s.height();$(this).css({width:n.width+"px",height:n.height+"px",overflow:"hidden"}),r.css({width:n.width+"px",height:n.height-n.scroll_y_width+"px"}),a.css({height:n.height+"px",width:n.scroll_y_width+"px",left:n.width-n.scroll_y_width+"px","background-color":n.scroll_y_color,"border-radius":n.scroll_y_radius+"px"}),l.css({height:n.scroll_x_width+"px",width:n.width+"px",top:n.height-n.scroll_x_width+"px","background-color":n.scroll_x_color,"border-radius":n.scroll_x_radius+"px"});var u={scrollY:!1,scrollX:!1};"auto"==n.scroll_y_overflow?(!function(){function t(){o+=h,r+=v,h>0&&o>=m?(o=m,clearInterval(u)):h<0&&o<=m&&(o=m,clearInterval(u)),s.css({"margin-top":o+"px"}),d.css({"margin-top":r+"px"})}var o=0;if(p<=n.height)a.css("display","none");else{var i=p-n.height,l=1*n.height/p,c=parseInt(n.height*l),r=0,f=n.height-c;d.css({height:c+"px","background-color":n.scroll_y_thumb_color,"border-radius":n.scroll_y_thumb_radius+"px"});var u=null,h=2,m=0,v=f*h*1/i;e.onMouseWheel(function(e,s){if(u&&clearInterval(u),s>0){if(h=Math.abs(h),m=o+n.inertia_dis,o>=0)return;m>0&&(m=0),v=-Math.abs(v),u=setInterval(t,1)}else{if(h=-Math.abs(h),m=o-n.inertia_dis,o<=-i)return;m<-i&&(m=-i),v=Math.abs(v),u=setInterval(t,1)}})}}(),u.scrollY=!0):a.css("display","none"),"auto"==n.scroll_x_overflow?(!function(){console.log(f+"==="+n.width);var t=0;if(f<=n.width)l.css("display","none");else{var o=f-n.width,i=1*n.width/f,e=parseInt(n.width*i),a=0,d=n.width-e,r=d/o;c.css({width:e+"px","background-color":n.scroll_x_thumb_color,"border-radius":n.scroll_x_thumb_radius+"px"});var p=0,u=0,h=0,m=0,v=!1;c.on("mousedown",function(n){u=n.pageX,m=a,p=t,v=!0,s.addClass("not-selected")}),$(window).on("mousemove",function(n){v&&(h=n.pageX,t=p+(u-h)/r,(a=m+h-u)>=d?(a=d,t=-o):a<=0&&(a=0,t=0),c.css({"margin-left":a+"px"}),s.css({"margin-left":t+"px"}))}),$(window).on("mouseup",function(){v=!1,s.removeClass("not-selected")})}}(),u.scrollX=!0):l.css("display","none")}}),$.fn.extend({selectorInit:function(t,n){var o=$.extend({},{width:280,expandType:"touch",optionsHeight:200,text:{tId:"demo",tName:"demo"},options:[{tId:"demo",tName:"demo"},{tId:"demo",tName:"demo"},{tId:"demo",tName:"demo"},{tId:"demo",tName:"demo"}]},t),i="";i+='<div class="pan-text" tId="'+o.text.tId+'">'+o.text.tName+"</div>",i+='<div class="pan-btn"><span></span></div>',i+='<div class="pan-scroll-box">';for(var e in o.options)i+='<div class="item-li" tId="'+o.options[e].tId+'">'+o.options[e].tName+"</div>";i+="</div>",$(this).html(i);var s=$(this);$(this).css("width",o.width+"px"),s.find(".pan-text").css({width:o.width-36+"px"});var l=$(this).find(".pan-scroll-box");l.panScrollBar({width:o.width,height:o.optionsHeight}),l.css({position:"absolute",left:"-1px",top:"29px","background-color":"#fff","z-index":"10001",border:"1px solid #80bc71",display:"none"}),"click"==o.expandType?s.on("click",function(){l.css("display","block")}):"touch"==o.expandType&&s.on("mouseenter",function(){l.css("display","block")}),s.on("mouseleave",function(){l.css("display","none")}),s.on("click",".item-li",function(){if(s.find(".pan-text").html($(this).html()),s.find(".pan-text").attr("tId",$(this).attr("tId")),l.css("display","none"),"function"==typeof n){var t=s.find(".pan-text").attr("tId"),o=s.find(".pan-text").html();n({tId:t,tName:o})}})}}),$.fn.extend({ZoomInit:function(t){function n(t){return{filter:"alpha(opacity=50)","-moz-opacity":t+="","-khtml-opacity":t,opacity:t}}var o=$(this);$(this).append('<div class="imageBg"></div>'),$imageBg=o.find("div.imageBg");var i=$(this).find("img");t.imageWidth&&"number"==typeof t.imageWidth&&i.css("width",t.imageWidth+"px"),t.imageHeight&&"number"==typeof t.imageHeight&&i.css("height",t.imageHeight+"px");var e=2;t.scale&&"number"==typeof t.scale&&(e=t.scale);var s=$(document).width(),l=$(document).height(),a=i.width(),c=i.height(),d=o.offset().left,r=o.offset().top,f=a*e,p=c*e;(f>=s||p>=l)&&(p=1*c/a*(f=.8*s));var u=(s-f)/2,h=(l-p)/2;o.css("width",a+"px"),o.css("height",c+"px"),$imageBg.css({width:"100%",height:"100%",position:"absolute",left:"0",top:"0","background-color":"#666",display:"none","z-index":1e3});var m=!1;i.on("click",function(){m?(d=o.offset().left,r=o.offset().top,$imageBg.animate(n(0),250,function(){$imageBg.css("display","none")}),i.animate({width:a+"px",height:c+"px",left:d+"px",top:r+"px"},250,function(){m=!1,i.css("position","static")})):(i.css("position","absolute"),i.css("z-index","1001"),console.log(i.offset().top),$imageBg.css("display","block"),$imageBg.css(n(0)),$imageBg.animate(n(.5),250),i.animate({width:f+"px",height:p+"px",left:u+"px",top:h+"px"},250,function(){m=!0}))}),i.on("mouseenter",function(){m?i.css("cursor","zoom-out"):i.css("cursor","zoom-in")})}}),$.fn.extend({panDateTimePicker:function(t){function n(t,n){f.find(".year-text").html(t),f.find(".month-text").html(n),o[2]=t%400==0||t%4==0&&t%100!=0?29:28;for(var i=function(t,n,o){return new Date(t+"/"+n+"/"+o).getDay()}(t,n,1),e="",s=o[n],l=0;l<7;l++)l<i&&(e+='<span style="visibility:hidden">&nbsp;</span>');for(l=1;l<=s;l++)e+="<span>"+l+"</span>";f.find(".picker-days").html(e)}var o=[null,31,29,31,30,31,30,31,31,30,31,30,31],i=["日","一","二","三","四","五","六"],e=$.extend({},{start_year:1990,end_year:2030,format:"mm/dd/yyyy"},t),s=new Date,l=s.getFullYear(),a=s.getMonth()+1;s.getDate();$(this).html('<label class="date-show"></label>'),$(this).append('<div class="picker-box"></div>');var c='<div class="picker-header">';c+='<div class="left-btn"></div>',c+='<div class="year-selector"><a class="year-text">2017</a><span class="year-btn"></span>',c+='<div class="pan-scroll-box" id="year-list"></div></div>',c+='<div class="month-selector"><a class="month-text">09</a><span class="month-btn"></span>',c+='<div class="pan-scroll-box" id="month-list"></div></div>',c+='<div class="right-btn"></div>',c+="</div>",c+='<div class="picker-week">';for(var d=0;d<7;d++)c+="<span>"+i[d]+"</span>";c+="</div>",c+='<div class="picker-days"></div>',$(this).find(".picker-box").html(c),c="";var r=0;for(d=e.start_year;d<=e.end_year;d++)c+='<div class="item-li" style="width:60px;">'+d+"</div>",r++;$(this).find("#year-list").html(c),c="";for(d=1;d<=12;d++)c+='<div class="item-li" style="width:45px;">'+d+"</div>";$(this).find("#month-list").html(c);var f=$(this),p=$(this).find("#year-list"),u=240<20*r?240:20*r;p.panScrollBar({width:60,height:u}),p.css({position:"absolute",border:"1px solid #80bc71","background-color":"#fff",top:"20px",left:"-5px","z-index":"20001",display:"none"});var h=$(this).find("#month-list");h.panScrollBar({width:45,height:240}),h.css({position:"absolute",border:"1px solid #80bc71","background-color":"#fff",top:"20px",left:"-5px","z-index":"20001",display:"none"}),n(l,a),$(this).find(".year-selector").on("mouseenter",function(){p.css("display","block")}),$(this).find(".year-selector").on("mouseleave",function(){p.css("display","none")}),p.on("click",".item-li",function(){var t=$(this).html(),o=f.find(".month-text").html();f.find(".year-text").html(t),p.css("display","none"),n(parseInt(t),parseInt(o))}),$(this).find(".month-selector").on("mouseenter",function(){h.css("display","block")}),$(this).find(".month-selector").on("mouseleave",function(){h.css("display","none")}),f.find(".picker-box").css({display:"none"}),h.on("click",".item-li",function(){var t=f.find(".year-text").html(),o=$(this).html();f.find(".month-text").html(o),h.css("display","none"),n(parseInt(t),parseInt(o))}),$(this).find(".picker-days").on("click","span",function(){var t=f.find(".year-text").html(),n=f.find(".month-text").html(),o=$(this).html();f.find(".date-show").html(function(t,n,o){"string"==typeof n&&(n=parseInt(n)),"string"==typeof o&&(o=parseInt(o)),n=n<10?"0"+n:n,o=o<10?"0"+o:o;var i="";return"yyyy-mm-dd"==e.format?i=t+"-"+n+"-"+o:"mm/dd/yyyy"==e.format?i=n+"/"+o+"/"+t:"yyyy/mm/dd"==e.format&&(i=t+"/"+n+"/"+o),i}(t,n,o)),f.find(".picker-box").css("display","none")}),$(this).find(".date-show").on("click",function(){f.find(".picker-box").css("display","block")})}});var panColorPickerObj=function(t,n,o){function e(t){if(!isNaN(t)){var n=parseInt(1*t/S*F);l({r:255,g:255,b:255},T=P[n=(n=n<0?0:n)>F-1?F-1:n],{r:0,g:0,b:0},f)}}function s(t,n){if(!isNaN(n)&&!isNaN(t)){var o=function(t,n,o,i,e,s){var l=parseInt(1*(n.r-t.r)/i*e+t.r),a=parseInt(1*(n.g-t.g)/i*e+t.g),c=parseInt(1*(n.b-t.b)/i*e+t.b),d=parseInt(1*(o.r-l)/i*s+l),r=parseInt(1*(o.g-a)/i*s+a),f=parseInt(1*(o.b-c)/i*s+c);return d=d>255?255:d,r=r>255?255:r,f=f>255?255:f,d=d<0?0:d,r=r<0?0:r,f=f<0?0:f,{r:d,g:r,b:f}}({r:255,g:255,b:255},T,{r:0,g:0,b:0},f,O,M);E=o,_.html(o.r+","+o.g+","+o.b),I.css("background-color",c(o.r,o.g,o.b)),y.html(c(o.r,o.g,o.b))}}function l(t,n,o,i){for(var e=[],s=1*(n.r-t.r)/i,l=1*(n.g-t.g)/i,a=1*(n.b-t.b)/i,c=0;c<i;c++)e.push({r:parseInt(t.r+s*c),g:parseInt(t.g+l*c),b:parseInt(t.b+a*c)});for(c=0;c<i;c++)for(var d=0;d<i;d++){var r=4*c*i+4*d;Y.data[r]=parseInt(1*(o.r-e[d].r)/i*c+e[d].r),Y.data[r+1]=parseInt(1*(o.g-e[d].g)/i*c+e[d].g),Y.data[r+2]=parseInt(1*(o.b-e[d].b)/i*c+e[d].b),Y.data[r+3]=255}W.putImageData(Y,0,0)}function a(t){var n=[];return n.push(parseInt(t.substr(1,2),16)),n.push(parseInt(t.substr(3,2),16)),n.push(parseInt(t.substr(5,2),16)),n}function c(t,n,o){var i=t.toString(16),e=n.toString(16),s=o.toString(16);return i=1==i.length?"0"+i:i,e=1==e.length?"0"+e:e,s=1==s.length?"0"+s:s,"#"+i+e+s}var d=t,r=$.extend({},{width:50,height:26,borderColor:"#333",iconBorderColor:"#333",iconColor:"#ff0000",pickerLeft:-1,pickerTop:25,showBtn:!0},n),f=180,p="";p+='<div class="picker_button"><div class="cur_color"></div><div class="arrow_btn"></div></div>',p+='<div class="picker_box">',p+='<div class="panel_box"><canvas class="color_canvas" width="'+f+'" height="'+f+'"></canvas>',p+='<div class="canvas_point"></div>',p+='<div class="rainbow_panel"><span></span></div></div>',p+='<div class="op_box"><div class="pre_color"></div><div class="now_color"></div>',p+='<div class="rgb_value">255,0,0</div><div class="hex_value">#ff0000</div>',p+='<div class="cancel_btn">取消</div><div class="ok_btn">确定</div></div>',p+="</div>",d.append(p);var u=d.find(".picker_button"),h=d.find(".picker_box"),m=d.find(".arrow_btn"),v=d.find(".color_canvas"),g=d.find(".canvas_point"),b=d.find(".rainbow_panel"),x=d.find(".rainbow_panel").find("span"),_=d.find(".rgb_value"),y=d.find(".hex_value"),k=d.find(".cur_color"),w=d.find(".pre_color"),I=d.find(".now_color"),C=d.find(".ok_btn"),B=d.find(".cancel_btn"),N="block";0==r.showBtn&&(N="none"),u.css({"border-color":r.borderColor,width:r.width+"px",height:r.height+"px",display:N}),h.css({left:r.pickerLeft+"px",top:r.pickerTop+"px",display:"none"}),k.css({"background-color":r.iconColor,height:r.height-6+"px","border-color":r.iconBorderColor}),w.css("background-color",r.iconColor);for(var D=["#ff0000","#FF8000","#ffff00","#00ff00","#00ffff","#0000ff","#8000ff"],P=[],F=0,z=1;z<7;z++)gradient_list=function(t,n,o,e){var s=a(t),l=a(n),d=1*(l[0]-s[0])/o,r=1*(l[1]-s[1])/o,f=1*(l[2]-s[2])/o,p=[];for(i=0;i<o;i++){var u=parseInt(s[0]+d*i),h=parseInt(s[1]+r*i),m=parseInt(s[2]+f*i);u=u>255?255:u,h=h>255?255:h,m=m>255?255:m,1==e?p.push(c(u,h,m)):p.push({r:u,g:h,b:m})}return p}(D[z-1],D[z],30),$.merge(P,gradient_list,!1);F=P.length;var S=f,M=0,O=0,j=0,E={r:0,g:0,b:0},T={r:255,g:0,b:0},W=v[0].getContext("2d"),Y=W.createImageData(f,f);l({r:255,g:255,b:255},T,{r:0,g:0,b:0},180),function(){function t(t){O=t.pageX-v.offset().left,M=t.pageY-v.offset().top,O=O<0?0:O,M=M<0?0:M;var n=O>f-3?f-3:O-2,o=M>f-3?f-3:M-2;O=O>f?f:O,M=M>f?f:M,g.css({top:o+"px",left:n+"px"}),s(O,M)}function n(t){document.onmousemove=null,document.onmouseup=null,document.onselectstart=null}g.on("mousedown",function(t){v.mousedown()}),v.on("mousedown",function(o){O=o.pageX-v.offset().left,M=o.pageY-v.offset().top,g.css({top:M+"px",left:O+"px"}),document.onmousemove=t,document.onmouseup=n,document.onselectstart=function(){return!1},s(O,M)})}(),function(){function t(t){j=(j=(j=t.pageY-v.offset().top)<0?0:j)>S-4?S-4:j,x.css("top",j+"px"),e(j),s(O,M)}function n(t){document.onmousemove=null,document.onmouseup=null,document.onselectstart=null}x.on("mousedown",function(t){b.mousedown()}),b.on("mousedown",function(o){j=(j=(j=o.pageY-v.offset().top)<0?0:j)>S-4?S-4:j,document.onmousemove=t,document.onmouseup=n,document.onselectstart=function(){return!1},x.css("top",j+"px"),e(j),s(O,M)})}(),C.on("click",function(){"function"==typeof o&&(n={hex:y.html(),rgb:E},o(n),h.css({display:"none"}),k.css("background-color",y.html()),w.css("background-color",y.html()))}),B.on("click",function(){h.css({display:"none"})}),k.click(function(){h.css({display:"block"})}),m.click(function(){k.click()}),this.showPicker=function(){h.css({display:"block"})},this.hidePicker=function(){h.css({display:"none"})}};$.fn.extend({panColorPicker:function(t,n){return new panColorPickerObj(this,t,n)}});var panEditFrameObj=function(t,n,o){function i(t){return t}var e=$.extend({},{width:810,height:500},n),s=t,l=["宋体","黑体","新宋体","仿宋","楷体","幼圆","Consolas","Courier New","Arial","Georgia","Impact","New Roman"],a={"初号":"9","一号":"8","二号":"7","三号":"6","小三":"5","四号":"4","小四":"3","五号":"2","小五":"1"},c='<div class="tool">';c+='<div class="first_row"><select class="family"></select>',c+='<select class="fontsize"></select>',c+='<button class="bold" title="粗体">B</button>',c+='<button class="italic" title="斜体">I</button>',c+='<button class="text_left" title="左对齐" tabindex = "0"></button>',c+='<button class="text_center" title="居中对齐"></button>',c+='<button class="text_right" title="右对齐"></button>',c+='<button class="reply_left" title="撤销"></button>',c+='<button class="reply_right" title="恢复撤销"></button>',c+='<button class="indent" title="增加缩进"></button>',c+='<button class="outdent" title="减少缩进"></button>',c+='<button class="underline" title="下划线"></button>',c+='<button class="deleteline" title="删除线"></button>',c+='<button class="remove_format" title="清除格式"></button>',c+='<button class="code_format" title="代码格式化"></button>',c+='<button class="table" title="表格"></button>',c+="</div>",c+='<div class="second_row">',c+='<button class="foreColor" title="字体颜色"></button><div class="pan-color-picker" id="forePicker" style="position: absolute"></div>',c+='<button class="backColor" title="字体背景颜色"></button><div class="pan-color-picker" id="backPicker" style="position: absolute"></div>',c+='<button class="link" title="超链接"></button>',c+='<button class="preview" title="预览"></button>',c+="</div>",c+="</div>",e.width=e.width<800?800:e.width,e.height=e.height<400?400:e.height,s.css({width:e.width+"px",height:e.height+"px"});var d=s.find("iframe");d.before(c),d.css({height:e.height-100+"px"}),c='<div class="table_dialog">',c+='<div class="dialog_header"><span class="dialog_title">插入表格</span><span class="dialog_close">×</span></div>',c+='<div class="table_content"><input type="text" class="table_rows" value="3"><span>行</span><input type="text" class="table_cols" value="3"><span>列</span></div>',c+='<div class="dialog_ok_btn">确定</div>',s.append(c),c='<div class="code_dialog">',c+='<div class="dialog_header"><span class="dialog_title">插入代码</span><span class="dialog_close">×</span></div><textarea class="dialog_content" spellcheck="false"></textarea>',c+='<div class="dialog_ok_btn">确定</div>',s.append(c),c='<div class="link_dialog">',c+='<div class="dialog_header"><span class="dialog_title">插入超链接</span><span class="dialog_close">×</span></div>',c+='<div class="link_content"><span>链接名字:</span><input type="text" class="link_name"/><br/><span>链接Url:</span><input type="text" class="link_id"/></div>',c+='<div class="dialog_ok_btn">确定</div>',s.append(c),c='<div class="previewGg"><div class="previewContent"></div></div>',s.append(c);var r=s.find(".family"),f=s.find(".fontsize"),p=s.find(".bold"),u=s.find(".italic"),h=s.find(".text_left"),m=s.find(".text_center"),v=s.find(".text_right"),g=s.find(".reply_left"),b=s.find(".reply_right"),x=s.find(".indent"),_=s.find(".outdent"),y=s.find(".underline"),k=s.find(".deleteline"),w=s.find(".remove_format"),I=s.find(".code_format"),C=s.find(".table"),B=s.find(".foreColor"),N=s.find(".backColor"),D=s.find("#forePicker"),P=s.find("#backPicker"),F=s.find(".link"),z=s.find(".preview"),S=s.find(".code_dialog"),M=S.find(".dialog_content"),O=S.find(".dialog_close"),j=S.find(".dialog_ok_btn"),E=s.find(".link_dialog"),T=E.find(".link_name"),W=E.find(".link_id"),Y=E.find(".dialog_close"),H=E.find(".dialog_ok_btn"),X=s.find(".previewGg"),R=s.find(".previewContent"),A=s.find(".table_dialog"),G=A.find(".table_rows"),L=A.find(".table_cols"),U=A.find(".dialog_close"),Z=A.find(".dialog_ok_btn");console.log(D.html());var q=D.panColorPicker({showBtn:!1},function(t){V.document.execCommand("ForeColor",!1,t.hex),V.focus()}),J=P.panColorPicker({showBtn:!1},function(t){V.document.execCommand("BackColor",!1,t.hex),V.focus()});D.css({left:"1px",top:"1px"}),P.css({left:"39px",top:"1px"}),c="";for(var K in l)c+='<option value ="'+l[K]+'">'+l[K]+"</option>";r.html(c),c="";for(var Q in a)c+='<option value ="'+a[Q]+'">'+Q+"</option>";f.html(c);var V=d[0].contentWindow,tt=d[0].contentWindow.document;console.log(V),tt.body.contentEditable=!0,$(tt.body).attr("spellcheck","false"),tt.designMode="on",V.focus(),this.getFrameBodyHtml=function(){return $(tt.body).html()},r.change(function(){V.document.execCommand("FontName",!1,$(this).val()),V.focus()}),f.change(function(){V.document.execCommand("FontSize",!1,parseInt($(this).val())),V.focus()}),p.on("click",function(){V.document.execCommand("Bold",!1,null),V.focus()}),u.on("click",function(){V.document.execCommand("Italic",!1,null),V.focus()}),h.unbind("focus"),h.on("click",function(){V.document.execCommand("justifyLeft",!1,null),V.focus()}),m.on("click",function(){V.document.execCommand("justifyCenter",!1,null),V.focus()}),v.on("click",function(){V.document.execCommand("justifyRight",!1,null),V.focus()}),g.on("click",function(){V.document.execCommand("undo",!1,null),V.focus()}),b.on("click",function(){V.document.execCommand("redo",!1,null),V.focus()}),x.on("click",function(){V.document.execCommand("indent",!1,null),V.focus()}),_.on("click",function(){V.document.execCommand("outdent",!1,null),V.focus()}),y.on("click",function(){V.document.execCommand("underline",!1,null),V.focus()}),k.on("click",function(){V.document.execCommand("strikeThrough",!1,"1"),V.focus()}),w.on("click",function(){V.document.execCommand("removeFormat",!1,"1"),V.focus()}),I.on("click",function(){M.val(""),S.css("display","block")}),B.on("click",function(){q.showPicker()}),N.on("click",function(){J.showPicker()}),O.on("click",function(){S.css("display","none")}),j.on("click",function(){S.css("display","none"),V.focus();var t=V.getSelection().getRangeAt(0),n=t.createContextualFragment(function(t){for(var n='<ol style="font-size: 13px;white-space: pre-wrap;font-family: Consolas;border: 1px solid #ddd" spellcheck="false">',o=t.split("\n"),e=0;e<o.length;e++)n+=e%2==1?'<li style="height:20px;line-height:20px;background-color: #f8f8f8;border-left:2px solid #8DB02E;padding-left: 10px;">'+i(o[e])+"</li>":'<li style="height:20px;line-height:20px;background-color: #ffffff;border-left:2px solid #8DB02E;padding-left: 10px;">'+i(o[e])+"</li>";return n+="</ol>"}(M.val()));t.insertNode(n),$(tt.body).append("<br/>")}),C.on("click",function(){console.log("table.clok"),A.css("display","block")}),U.on("click",function(){A.css("display","none")}),Z.on("click",function(){A.css("display","none");var t=parseInt(G.val()),n=parseInt(L.val());V.focus();var o=V.getSelection().getRangeAt(0),i=o.createContextualFragment("<br/>"+function(t,n,o){var i="";"left"==o?i+='<ol><table style="width:800px;border:1px solid #aaa;" cellspacing="0">':"center"==o&&(i+='<table style="width:800px;border:1px solid #aaa;" cellspacing="0">');for(var e=0;e<t;e++){i+=e%2==0?'<tr style="background-color: #f8f8f8">':'<tr style="background-color: #ffffff">';for(var s=0;s<n;s++)i+=0==s?'<td style="width:100px;height:30px;border-left:0px solid #d5d5d5;color:#666"></td>':'<td style="width:100px;height:30px;border-left:1px solid #d5d5d5;color:#666"></td>';i+="</tr>"}return i+="</table></ol>"}(t,n,"center"));o.insertNode(i),$(tt.body).append("<br/>")}),F.on("click",function(){E.css("display","block"),T.val(""),W.val("")}),Y.on("click",function(){E.css("display","none")}),H.on("click",function(){V.focus();var t=V.getSelection().getRangeAt(0),n=t.createContextualFragment(function(t,n){var o="";return"string"==typeof n&&-1==n.indexOf("https://")&&-1==n.indexOf("http://")&&(o+="http://"+n),'<a href="'+o+'" target="_blank" >'+t+"</a>"}(T.val(),W.val()));t.insertNode(n),E.css("display","none")}),z.on("click",function(){X.css("display","block"),R.html($(tt.body).html()),$("html,body").css({overflow:"hidden"})}),X.on("click",function(){$(this).css("display","none"),$("html,body").css({overflow:"auto"})}),R.on("click",function(t){t.stopPropagation()})};$.fn.extend({panEditFrame:function(t,n){return new panEditFrameObj(this,t,n)}});var panBlogsDialogObj=function(t,n,o){function i(){e.fadeOut(300)}var e=t,s=$.extend({},{width:500,height:300,top:150},n),l=e.find(".pan-blogs-dialog-content");l.on("click",function(t){t.stopPropagation()}),e.click(function(){i()}),this.showDialog=function(){e.fadeIn(200),l.css({width:s.width+100+"px",height:s.height+100+"px",margin:s.top-50+"px auto"}),l.animate({width:s.width+"px",height:s.height+"px",margin:s.top+"px auto"},200)},this.hideDialog=function(){i()}};$.fn.extend({panBlogsDialog:function(t,n){return new panBlogsDialogObj(this,t,n)}});