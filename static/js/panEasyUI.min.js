

$.fn.extend({onMouseWheel:function(t){$(this).on("mousewheel DOMMouseScroll",function(e){"function"==typeof e.preventDefault&&e.preventDefault();var i=e.originalEvent.detail,n=e.originalEvent.wheelDelta;return t(e,void 0===n?-i:n),!1})}}),$.fn.extend({panScrollBar:function(t){function e(){h+=v,p+=w,v>0&&h>x?clearInterval(g):v<0&&h<x&&clearInterval(g),a.css({"margin-top":h+"px"}),d.css({"margin-top":p+"px"})}var i=$.extend({},{width:400,height:350,barWidth:5},t),n=$(this).html();console.log(n);var s='<div class="scroll-content"></div>';s+='<div class="scroll-bar"><div class="scrollbar-thumb"></div></div>',$(this).html(s);var a=$(this).find(".scroll-content"),o=$(this).find(".scroll-bar"),d=o.find(".scrollbar-thumb");a.html(n),$(this).css({width:i.width+"px",height:i.height+"px",overflow:"hidden"}),a.css({}),o.css({height:i.height+"px",width:i.barWidth+"px",left:i.width-i.barWidth+"px"});var l=0,c=0;if(d.on("mousedown",function(t){l=t.pageX,console.log(l)}),d.on("mousemove",function(t){c=t.pageY,console.log(c-l)}),a.height()<=i.height)o.css("display","none");else{var h=0,r=$(this).height()-a.height()+1,m=1*i.height/a.height(),f=parseInt(m*i.height),p=0,u=i.height-f;d.css({height:f+"px"});var g=null,y=1,v=2,x=0,I=-u*v*1/r,w=I;$(this).onMouseWheel(function(t,i){if(clearInterval(g),i>0){if(v=2,x=h+250,h>=-1)return;x>-1&&(x=-1),y=1,w=-I,g=setInterval(e,y)}else{if(v=-2,x=h-250,h<=r)return;x<r&&(x=r),y=1,w=I,g=setInterval(e,y)}})}}}),$("#test_scroll").panScrollBar({width:100}),$.fn.extend({selectorInit:function(t,e){var i=$.extend({},{width:280,text:{tId:"demo",tName:"demo"},options:[{tId:"demo",tName:"demo"},{tId:"demo",tName:"demo"},{tId:"demo",tName:"demo"},{tId:"demo",tName:"demo"}]},t),n="";n+='<div class="pan-text" tId="'+i.text.tId+'">',n+=i.text.tName,n+="</div>",n+='<div class="pan-btn"><span></span></div>',n+='<div class="pan-select-ul">',n+='<div class="pan-scroll-box"><ul>';for(var s in i.options)n+='<li tId="'+i.options[s].tId+'">',n+=i.options[s].tName+"</li>";n+="</ul></div></div>",$(this).html(n);var a=$(this);$(this).css("width",i.width+"px"),a.find(".pan-text").css({width:i.width-36+"px"});var o=$(this).find(".pan-select-ul"),d=$(this).find(".pan-scroll-box");d.panScrollBar({width:i.width,height:180}),d.find("ul").css({width:i.width+"px"}),o.css({width:i.width+"px",display:"none"}),a.on("mouseenter",function(){o.css("display","block")}),a.on("mouseleave",function(){o.css("display","none")}),a.on("click","ul li",function(){if(a.find(".pan-text").html($(this).html()),a.find(".pan-text").attr("tId",$(this).attr("tId")),o.css("display","none"),"function"==typeof e){var t=a.find(".pan-text").attr("tId"),i=a.find(".pan-text").html();e({tId:t,tName:i})}})}}),$("#test_selector").selectorInit({width:280,text:{tId:"上海",tName:"上海"},options:[{tId:"上海",tName:"上海"},{tId:"北京",tName:"北京"},{tId:"深圳",tName:"深圳"},{tId:"江苏",tName:"江苏"},{tId:"山东",tName:"山东"},{tId:"广东",tName:"广东"},{tId:"江西",tName:"江西"},{tId:"南京",tName:"南京"},{tId:"江苏",tName:"江苏"},{tId:"陕西",tName:"陕西"},{tId:"河南",tName:"河南"},{tId:"河北",tName:"河北"},{tId:"山西",tName:"山西"},{tId:"天津",tName:"天津"}]},function(t){console.log(JSON.stringify(t))}),$("#test_selector1").selectorInit({width:120,text:{tId:"火星",tName:"火星"},options:[{tId:"火星",tName:"火星"},{tId:"木星",tName:"木星"},{tId:"水星",tName:"水星"},{tId:"金星",tName:"金星"},{tId:"天王星",tName:"天王星"},{tId:"海王星",tName:"海王星"},{tId:"冥王星",tName:"冥王星"},{tId:"地球",tName:"地球"},{tId:"太阳",tName:"太阳"}]},function(t){console.log(JSON.stringify(t))}),$.fn.extend({ZoomInit:function(t){function e(t){return{filter:"alpha(opacity=50)","-moz-opacity":t+="","-khtml-opacity":t,opacity:t}}var i=$(this);$(this).append('<div class="imageBg"></div>'),$imageBg=i.find("div.imageBg");var n=$(this).find("img");t.imageWidth&&"number"==typeof t.imageWidth&&n.css("width",t.imageWidth+"px"),t.imageHeight&&"number"==typeof t.imageHeight&&n.css("height",t.imageHeight+"px");var s=2;t.scale&&"number"==typeof t.scale&&(s=t.scale);var a=$(document).width(),o=$(document).height(),d=n.width(),l=n.height(),c=i.offset().left,h=i.offset().top,r=d*s,m=l*s;(r>=a||m>=o)&&(m=1*l/d*(r=.8*a));var f=(a-r)/2,p=(o-m)/2;i.css("width",d+"px"),i.css("height",l+"px"),$imageBg.css({width:"100%",height:"100%",position:"absolute",left:"0",top:"0","background-color":"#666",display:"none","z-index":1e3});var u=!1;n.on("click",function(){u?(c=i.offset().left,h=i.offset().top,$imageBg.animate(e(0),250,function(){$imageBg.css("display","none")}),n.animate({width:d+"px",height:l+"px",left:c+"px",top:h+"px"},250,function(){u=!1,n.css("position","static")})):(n.css("position","absolute"),n.css("z-index","1001"),console.log(n.offset().top),$imageBg.css("display","block"),$imageBg.css(e(0)),$imageBg.animate(e(.5),250),n.animate({width:r+"px",height:m+"px",left:f+"px",top:p+"px"},250,function(){u=!0}))}),n.on("mouseenter",function(){u?n.css("cursor","zoom-out"):n.css("cursor","zoom-in")})}}),$("#test_zoomify").ZoomInit({imageWidth:360,imageHeight:"auto",scale:3.1}),$("#test_zoomify1").ZoomInit({imageWidth:100,imageHeight:"auto",scale:3.1}),$.fn.extend({panDateTimePicker:function(t){function e(t,e){h.find(".year-text").html(t),h.find(".month-text").html(e),i[2]=t%400==0||t%4==0&&t%100!=0?29:28;for(var n=function(t,e,i){return new Date(t+"/"+e+"/"+i).getDay()}(t,e,1),s="",a=i[e],o=0;o<7;o++)o<n&&(s+='<span style="visibility:hidden">&nbsp;</span>');for(o=1;o<=a;o++)s+="<span>"+o+"</span>";h.find(".picker-days").html(s)}var i=[null,31,29,31,30,31,30,31,31,30,31,30,31],n=["日","一","二","三","四","五","六"],s=$.extend({},{start_year:1990,end_year:2030,format:"mm/dd/yyyy"},t);console.log(JSON.stringify(s));var a=new Date,o=a.getFullYear(),d=a.getMonth()+1;a.getDate();$(this).html('<label class="date-show"></label>'),$(this).append('<div class="picker-box"></div>');var l='<div class="picker-header">';l+='<div class="left-btn"></div>',l+='<div class="year-selector">',l+='<a class="year-text">2017</a>',l+='<span class="year-btn"></span>',l+='<ul class="year-list"></ul>',l+="</div>",l+='<div class="month-selector">',l+='<a class="month-text">09</a>',l+='<span class="month-btn"></span>',l+='<ul class="month-list"></ul>',l+="</div>",l+='<div class="right-btn"></div>',l+="</div>",l+='<div class="picker-week">';for(var c=0;c<7;c++)l+="<span>"+n[c]+"</span>";l+="</div>",l+='<div class="picker-days"></div>',$(this).find(".picker-box").html(l),l="";for(c=s.start_year;c<=s.end_year;c++)l+="<li>"+c+"</li>";$(this).find("ul.year-list").html(l),l="";for(c=1;c<=12;c++)l+="<li>"+c+"</li>";$(this).find("ul.month-list").html(l);var h=$(this);e(o,d),$(this).find(".year-selector").on("mouseenter",function(){h.find(".year-list").css("display","block")}),$(this).find(".year-selector").on("mouseleave",function(){h.find(".year-list").css("display","none")}),$(this).find(".year-list").on("click","li",function(){var t=$(this).html(),i=h.find(".month-text").html();h.find(".year-text").html(t),h.find(".year-list").css("display","none"),e(parseInt(t),parseInt(i))}),$(this).find(".month-selector").on("mouseenter",function(){h.find(".month-list").css("display","block")}),$(this).find(".month-selector").on("mouseleave",function(){h.find(".month-list").css("display","none")}),$(this).find(".month-list").on("click","li",function(){var t=h.find(".year-text").html(),i=$(this).html();h.find(".month-text").html(i),h.find(".month-list").css("display","none"),e(parseInt(t),parseInt(i))}),$(this).find(".picker-days").on("click","span",function(){var t=h.find(".year-text").html(),e=h.find(".month-text").html(),i=$(this).html();h.find(".date-show").html(function(t,e,i){"string"==typeof e&&(e=parseInt(e)),"string"==typeof i&&(i=parseInt(i)),e=e<10?"0"+e:e,i=i<10?"0"+i:i;var n="";return"yyyy-mm-dd"==s.format?n=t+"-"+e+"-"+i:"mm/dd/yyyy"==s.format?n=e+"/"+i+"/"+t:"yyyy/mm/dd"==s.format&&(n=t+"/"+e+"/"+i),n}(t,e,i)),h.find(".picker-box").css("display","none")}),$(this).find(".date-show").on("click",function(){h.find(".picker-box").css("display","block")})}}),$("#test_datetime").panDateTimePicker({start_year:1990,end_year:2025,format:"mm/dd/yyyy"});