

$.fn.extend({onMouseWheel:function(t){$(this).on("mousewheel DOMMouseScroll",function(i){var e=i.originalEvent.detail,n=i.originalEvent.wheelDelta;t(i,void 0===n?-e:n)})}}),$.fn.extend({panScrollBar:function(t){var i=$.extend({},{width:400,height:350,barWidth:5},t),e=$(this).html();console.log(e);var n='<div class="scroll-content"></div>';n+='<div class="scroll-bar"><div class="scrollbar-thumb"></div></div>',$(this).html(n);var s=$(this).find(".scroll-content"),a=$(this).find(".scroll-bar"),o=a.find(".scrollbar-thumb");s.html(e),$(this).css({width:i.width+"px",height:i.height+"px",overflow:"hidden"}),s.css({}),a.css({height:i.height+"px",width:i.barWidth+"px",left:i.width-i.barWidth+"px"});var l=0,d=0;if(o.on("mousedown",function(t){l=t.pageX,console.log(l)}),o.on("mousemove",function(t){d=t.pageY,console.log(d-l)}),s.height()<=i.height)a.css("display","none");else{var h=0,c=$(this).height()-s.height(),r=1*i.height/s.height(),m=parseInt(r*i.height),f=0,p=i.height-m,g=parseInt(1*p*80/c);o.css({height:m+"px"}),$(this).onMouseWheel(function(t,i){i>0?h+80>0?(h=0,f=0):(h+=80,f+=g):h-80<c?(h=c,f=p):(h-=80,f-=g),s.stop(!1,!0).animate({"margin-top":h+"px"},120,"linear"),o.stop(!1,!0).animate({"margin-top":f+"px"},120,"linear")})}}}),$("#test_scroll").panScrollBar({}),$.fn.extend({selectorInit:function(t,i){var e="";if(t.text&&"object"==typeof t.text&&(e+='<div class="pan-text" tId="'+t.text.tId+'">',e+=t.text.tName,e+="</div>"),e+='<div class="pan-btn"><span></span></div>',e+='<ul class="pan-scroll-box" id="ll">',t.options&&"object"==typeof t.options)for(var n in t.options)e+='<li tId="'+t.options[n].tId+'">',e+=t.options[n].tName+"</li>";e+="</ul>",$(this).html(e),$(this).find("#ll").panScrollBar({width:50,height:50});var s=$(this);t.width&&"number"==typeof t.width&&($(this).css("width",t.width+"px"),s.find(".pan-text").css({width:t.width-36+"px"}),s.find("ul").css({width:t.width+"px"})),t.height&&"number"==typeof t.height&&($(this).css("height",t.height+"px"),s.find(".pan-text").css({height:t.height+"px","line-height":t.height+"px"}),s.find(".pan-btn").css({height:t.height+"px"})),s.on("mouseenter",function(){$(this).find("ul").css("display","block")}),s.on("mouseleave",function(){$(this).find("ul").css("display","none")}),s.on("click","ul li",function(){if(s.find(".pan-text").html($(this).html()),s.find(".pan-text").attr("tId",$(this).attr("tId")),s.find("ul").css("display","none"),"function"==typeof i){var t=s.find(".pan-text").attr("tId"),e=s.find(".pan-text").html();i({tId:t,tName:e})}})}}),$("#test_selector").selectorInit({width:280,text:{tId:"上海",tName:"上海"},options:[{tId:"上海",tName:"上海"},{tId:"北京",tName:"北京"},{tId:"深圳",tName:"深圳"},{tId:"江苏",tName:"江苏"},{tId:"山东",tName:"山东"},{tId:"广东",tName:"广东"},{tId:"江西",tName:"江西"},{tId:"南京",tName:"南京"},{tId:"江苏",tName:"江苏"},{tId:"陕西",tName:"陕西"},{tId:"河南",tName:"河南"},{tId:"河北",tName:"河北"},{tId:"山西",tName:"山西"},{tId:"天津",tName:"天津"}]},function(t){console.log(JSON.stringify(t))}),$("#test_selector1").selectorInit({width:120,text:{tId:"火星",tName:"火星"},options:[{tId:"火星",tName:"火星"},{tId:"木星",tName:"木星"},{tId:"水星",tName:"水星"},{tId:"金星",tName:"金星"},{tId:"天王星",tName:"天王星"},{tId:"海王星",tName:"海王星"},{tId:"冥王星",tName:"冥王星"},{tId:"地球",tName:"地球"},{tId:"太阳",tName:"太阳"}]},function(t){console.log(JSON.stringify(t))}),$.fn.extend({ZoomInit:function(t){function i(t){return{filter:"alpha(opacity=50)","-moz-opacity":t+="","-khtml-opacity":t,opacity:t}}var e=$(this);$(this).append('<div class="imageBg"></div>'),$imageBg=e.find("div.imageBg");var n=$(this).find("img");t.imageWidth&&"number"==typeof t.imageWidth&&n.css("width",t.imageWidth+"px"),t.imageHeight&&"number"==typeof t.imageHeight&&n.css("height",t.imageHeight+"px");var s=2;t.scale&&"number"==typeof t.scale&&(s=t.scale);var a=$(document).width(),o=$(document).height(),l=n.width(),d=n.height(),h=e.offset().left,c=e.offset().top,r=l*s,m=d*s;(r>=a||m>=o)&&(m=1*d/l*(r=.8*a));var f=(a-r)/2,p=(o-m)/2;e.css("width",l+"px"),e.css("height",d+"px"),$imageBg.css({width:"100%",height:"100%",position:"absolute",left:"0",top:"0","background-color":"#666",display:"none","z-index":1e3});var g=!1;n.on("click",function(){g?(h=e.offset().left,c=e.offset().top,$imageBg.animate(i(0),250,function(){$imageBg.css("display","none")}),n.animate({width:l+"px",height:d+"px",left:h+"px",top:c+"px"},250,function(){g=!1,n.css("position","static")})):(n.css("position","absolute"),n.css("z-index","1001"),console.log(n.offset().top),$imageBg.css("display","block"),$imageBg.css(i(0)),$imageBg.animate(i(.5),250),n.animate({width:r+"px",height:m+"px",left:f+"px",top:p+"px"},250,function(){g=!0}))}),n.on("mouseenter",function(){g?n.css("cursor","zoom-out"):n.css("cursor","zoom-in")})}}),$("#test_zoomify").ZoomInit({imageWidth:360,imageHeight:"auto",scale:3.1}),$("#test_zoomify1").ZoomInit({imageWidth:100,imageHeight:"auto",scale:3.1}),$.fn.extend({panDateTimePicker:function(t){function i(t,i){c.find(".year-text").html(t),c.find(".month-text").html(i),e[2]=t%400==0||t%4==0&&t%100!=0?29:28;for(var n=function(t,i,e){return new Date(t+"/"+i+"/"+e).getDay()}(t,i,1),s="",a=e[i],o=0;o<7;o++)o<n&&(s+='<span style="visibility:hidden">&nbsp;</span>');for(o=1;o<=a;o++)s+="<span>"+o+"</span>";c.find(".picker-days").html(s)}var e=[null,31,29,31,30,31,30,31,31,30,31,30,31],n=["日","一","二","三","四","五","六"],s=$.extend({},{start_year:1990,end_year:2030,format:"mm/dd/yyyy"},t);console.log(JSON.stringify(s));var a=new Date,o=a.getFullYear(),l=a.getMonth()+1;a.getDate();$(this).html('<label class="date-show"></label>'),$(this).append('<div class="picker-box"></div>');var d='<div class="picker-header">';d+='<div class="left-btn"></div>',d+='<div class="year-selector">',d+='<a class="year-text">2017</a>',d+='<span class="year-btn"></span>',d+='<ul class="year-list"></ul>',d+="</div>",d+='<div class="month-selector">',d+='<a class="month-text">09</a>',d+='<span class="month-btn"></span>',d+='<ul class="month-list"></ul>',d+="</div>",d+='<div class="right-btn"></div>',d+="</div>",d+='<div class="picker-week">';for(var h=0;h<7;h++)d+="<span>"+n[h]+"</span>";d+="</div>",d+='<div class="picker-days"></div>',$(this).find(".picker-box").html(d),d="";for(h=s.start_year;h<=s.end_year;h++)d+="<li>"+h+"</li>";$(this).find("ul.year-list").html(d),d="";for(h=1;h<=12;h++)d+="<li>"+h+"</li>";$(this).find("ul.month-list").html(d);var c=$(this);i(o,l),$(this).find(".year-selector").on("mouseenter",function(){c.find(".year-list").css("display","block")}),$(this).find(".year-selector").on("mouseleave",function(){c.find(".year-list").css("display","none")}),$(this).find(".year-list").on("click","li",function(){var t=$(this).html(),e=c.find(".month-text").html();c.find(".year-text").html(t),c.find(".year-list").css("display","none"),i(parseInt(t),parseInt(e))}),$(this).find(".month-selector").on("mouseenter",function(){c.find(".month-list").css("display","block")}),$(this).find(".month-selector").on("mouseleave",function(){c.find(".month-list").css("display","none")}),$(this).find(".month-list").on("click","li",function(){var t=c.find(".year-text").html(),e=$(this).html();c.find(".month-text").html(e),c.find(".month-list").css("display","none"),i(parseInt(t),parseInt(e))}),$(this).find(".picker-days").on("click","span",function(){var t=c.find(".year-text").html(),i=c.find(".month-text").html(),e=$(this).html();c.find(".date-show").html(function(t,i,e){"string"==typeof i&&(i=parseInt(i)),"string"==typeof e&&(e=parseInt(e)),i=i<10?"0"+i:i,e=e<10?"0"+e:e;var n="";return"yyyy-mm-dd"==s.format?n=t+"-"+i+"-"+e:"mm/dd/yyyy"==s.format?n=i+"/"+e+"/"+t:"yyyy/mm/dd"==s.format&&(n=t+"/"+i+"/"+e),n}(t,i,e)),c.find(".picker-box").css("display","none")}),$(this).find(".date-show").on("click",function(){c.find(".picker-box").css("display","block")})}}),$("#test_datetime").panDateTimePicker({start_year:1990,end_year:2025,format:"mm/dd/yyyy"});